# Underdog.Echo

ä¸€ä¸ªå¿«é€Ÿæ­å»ºé¡¹ç›®çš„WPFæ¡†æ¶

æ­¤é¡¹ç›®æ˜¯`StupidBear`å’Œ`Blog.Core`ä¸¤ä¸ªé¡¹ç›®çš„ç¼åˆæ€ªï¼ŒæŠ€æœ¯æœ‰é™ï¼Œç¼åˆçš„å¾ˆå¤±è´¥ï¼Œæ‰€ä»¥ç”¨`Underdog`å‘½å/(ã„’oã„’)/~~

* æ–‡æ¡£éƒ½æ˜¯Copyçš„`Blog.Core`çš„

&nbsp;
&nbsp;

-------------------------------
## é¸£è°¢

- [Blog.Core å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å‰åç«¯åˆ†ç¦»ã€ .NET Core6.0 Api + Vue 2.x + RBACã€‘æƒé™æ¡†æ¶](https://github.com/anjoy8/Blog.Core)
- [StupidBear WPFå¼€å‘æ¡†æ¶](https://github.com/AelousDing/StupidBear)

 &nbsp;

---------------------

#### æ¡†æ¶æ¨¡å—ï¼š  
- [x] é‡‡ç”¨`ä»“å‚¨+æœåŠ¡+æ¥å£`çš„å½¢å¼å°è£…æ¡†æ¶ï¼›
- [x] è‡ªå®šä¹‰é¡¹ç›®æ¨¡æ¿ `CreateYourProject.bat` ï¼Œå¯ä»¥ä¸€é”®ç”Ÿæˆè‡ªå·±çš„é¡¹ç›®ï¼›ğŸ¶  
- [x] å¼‚æ­¥ async/await å¼€å‘ï¼›  
- [x] æ¥å…¥å›½äº§æ•°æ®åº“ORMç»„ä»¶ â€”â€” SqlSugarï¼Œå°è£…æ•°æ®åº“æ“ä½œï¼Œæ”¯æŒçº§è”æ“ä½œï¼›
- [x] æ”¯æŒè‡ªç”±åˆ‡æ¢å¤šç§æ•°æ®åº“ï¼ŒMySql/SqlServer/Sqlite/Oracle/Postgresql/è¾¾æ¢¦/äººå¤§é‡‘ä»“ï¼›
- [x] å®ç°é¡¹ç›®å¯åŠ¨ï¼Œè‡ªåŠ¨ç”Ÿæˆç§å­æ•°æ® âœ¨ï¼› 
- [x] å®ç°æ•°æ®åº“ä¸»é”®ç±»å‹é…ç½®åŒ–ï¼Œä»€ä¹ˆç±»å‹éƒ½å¯ä»¥è‡ªå®šä¹‰ âœ¨ï¼› 
- [x] å››ç§æ—¥å¿—è®°å½•ï¼Œå®¡è®¡/å¼‚å¸¸/æœåŠ¡æ“ä½œ/Sqlè®°å½•ç­‰,å¹¶è‡ªåŠ¨æŒä¹…åŒ–åˆ°æ•°æ®åº“è¡¨ğŸ¶ï¼› 
- [x] æ”¯æŒé¡¹ç›®äº‹åŠ¡å¤„ç†ï¼ˆè‹¥è¦åˆ†å¸ƒå¼ï¼Œç”¨capå³å¯ï¼‰âœ¨ï¼›
- [x] è®¾è®¡4ç§ AOP åˆ‡é¢ç¼–ç¨‹ï¼ŒåŠŸèƒ½æ¶µç›–ï¼šæ—¥å¿—ã€ç¼“å­˜ã€å®¡è®¡ã€äº‹åŠ¡ âœ¨ï¼›
- [x] å…¨å±€ç»Ÿä¸€å°è£… Serilog ç”Ÿæˆå¤šç§æ—¥å¿—ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆåˆ°æ•°æ®åº“ä¸­ï¼Œç›®å‰æ”¯æŒMySql/SqlServer/Sqlite/Oracle/PostgresqlğŸ‰ï¼›
- [x] å°è£…`Underdog.Echo.Template`é¡¹ç›®æ¨¡æ¿ï¼Œä¸€é”®é‡å»ºè‡ªå·±çš„é¡¹ç›® âœ¨ï¼›
- [x] å®ç°åˆ†è¡¨æ¡ˆä¾‹ï¼Œæ”¯æŒåˆ†è¡¨çš„å¢åˆ æ”¹æŸ¥å“ˆåˆ†é¡µæŸ¥è¯¢


ç»„ä»¶æ¨¡å—ï¼š
- [x] æä¾› Redis åšç¼“å­˜å¤„ç†ï¼›
- [x] ä½¿ç”¨ Automapper å¤„ç†å¯¹è±¡æ˜ å°„ï¼›  
- [x] ä½¿ç”¨ AutoFac åšä¾èµ–æ³¨å…¥å®¹å™¨ï¼Œå¹¶æä¾›æ‰¹é‡æœåŠ¡æ³¨å…¥ âœ¨ï¼›
- [x] ä½¿ç”¨ Serilog æ—¥å¿—æ¡†æ¶ï¼Œé›†æˆåŸç”Ÿ ILogger æ¥å£åšæ—¥å¿—è®°å½•ï¼›
- [x] ä½¿ç”¨ SignalR åŒå·¥é€šè®¯ âœ¨ï¼›
- [x] ä½¿ç”¨ Quartz.net åšä»»åŠ¡è°ƒåº¦ï¼ˆç›®å‰å•æœºå¤šä»»åŠ¡ï¼Œé›†ç¾¤è°ƒåº¦æš‚ä¸æ”¯æŒï¼‰;
- [x] æ”¯æŒ æ•°æ®åº“`è¯»å†™åˆ†ç¦»`å’Œå¤šåº“æ“ä½œ âœ¨;
- [x] æ–°å¢ Redis æ¶ˆæ¯é˜Ÿåˆ— âœ¨;
- [x] æ–°å¢ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ— âœ¨;
- [x] æ–°å¢ EventBus äº‹ä»¶æ€»çº¿ âœ¨;
- [x] æ–°å¢ - Serilog é›†æˆæ—¥å¿—æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“;  


### æ ¸å¿ƒä¸šåŠ¡æ¨¡å—
#### æ¡†æ¶é‡‡ç”¨æ³›å‹ä»“å‚¨æ¨¡å¼ï¼Œä»¥ä¸‹å‡ å±‚ä¸ºæ ¸å¿ƒå±‚ï¼Œä¸å¯åˆ é™¤    
`Underdog.Echo.Main`ã€`Underdog.Echo.Common`ã€`Underdog.Echo.IServices`ã€`Underdog.Echo.Model`ã€`Underdog.Echo.Repository`ã€`Underdog.Echo.Services`ã€`Underdog.Echo.Tasks`ã€`Underdog.Echo.Serilog`    
å…¶ä»–ä»£ç åˆ†å±‚æ˜¯æ”¯æ’‘å±‚ï¼Œå¦‚æœè‡ªå·±ä¸šåŠ¡æ¶‰åŠä¸åˆ°ï¼Œå¯ä»¥åˆ é™¤ã€‚

&nbsp;

## Nuget Packages

| Package | NuGet Stable |  Downloads |
| ------- | -------- | ------- |
| [Underdog.Echo.Template](https://www.nuget.org/packages/Underdog.Echo.Template/) | [![Underdog.Echo.Template](https://img.shields.io/nuget/v/Underdog.Echo.Template.svg)](https://www.nuget.org/packages/Underdog.Echo.Template/)  | [![Underdog.Echo.Template](https://img.shields.io/nuget/dt/Underdog.Echo.Template.svg)](https://www.nuget.org/packages/Underdog.Echo.Template/) |

&nbsp;

---------------------

### åˆå§‹åŒ–é¡¹ç›®
 
ä¸‹è½½é¡¹ç›®åï¼Œç¼–è¯‘å¦‚æœæ²¡é—®é¢˜ï¼Œç›´æ¥è¿è¡Œå³å¯ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆç§å­æ•°æ®ï¼Œæ•°æ®åº“æ˜¯`Sqlite`ã€‚

#### æ ¸å¿ƒå¯åŠ¨æ–‡ä»¶

1.Program.cs

###### *Pathï¼š`Underdog.Echo.Main`*

2.HostBuilderHelper.cs

###### *Pathï¼š`Underdog.Echo.Main`*

3.AppHostExtensions.cs

###### *Pathï¼š`Underdog.Echo.Main.Extensions.ServiceExtensions`*


#### Program.cs


`

    public class Program
    {
        public static IHost? AppHost { get; private set; }

        [System.STAThreadAttribute()]
        public static void Main(string[] args)
        {
            // é¡¹ç›®ä¸»å…¥å£
            // ......
        }
    }
`


#### HostBuilderHelper.cs


`

    public class HostBuilderHelper
    {
        private readonly string[] _args;
        private readonly bool _isProduction;

        public HostBuilderHelper(string[] args, bool isProduction = true)
        {
            _args = args;
            _isProduction = isProduction;
            SetEnvironment();
        }

        /// <summary>
        /// create host builder
        /// </summary>
        /// <param name="args"></param>
        /// <param name="isProduction"></param>
        /// <returns></returns>
        public IHostBuilder CreateHostBuilder()
        {
            // åˆ›å»ºé€šç”¨ä¸»æœºæ„å»ºå™¨
            // ......
        }

        /// <summary>
        /// åˆå§‹åŒ–ç¯å¢ƒ
        /// </summary>
        private void SetEnvironment()
        {
            // ......
        }

        /// <summary>
        /// é…ç½®æ–‡ä»¶
        /// </summary>
        /// <param name="hostingContext"></param>
        /// <param name="config"></param>
        private static void ConfigureAppConfiguration(HostBuilderContext hostingContext, IConfigurationBuilder config)
        {
            // åŠ è½½é…ç½®æ–‡ä»¶
            // ......
        }

        /// <summary>
        /// é…ç½®é€šç”¨æœåŠ¡ 
        /// Redisã€Rabbitmqã€EventBusã€AutoMapperã€Cacheã€SqlSugarç­‰
        /// </summary>
        /// <param name="context"></param>
        /// <param name="services"></param>
        private static void ConfigurationCommonService(HostBuilderContext context, IServiceCollection services)
        {
            // æ³¨å†Œé€šç”¨æœåŠ¡
            // ......
        }

        /// <summary>
        /// é…ç½®å®¢æˆ·ç«¯æœåŠ¡
        /// viewã€viewmodelã€regionç­‰
        /// </summary>
        /// <param name="context"></param>
        /// <param name="services"></param>
        private static void ConfigurationClientService(HostBuilderContext context, IServiceCollection services)
        {
            // æ³¨å†Œå®¢æˆ·ç«¯æœåŠ¡,é€šå¸¸æ˜¯ç•Œé¢æœ‰å…³çš„
            // ......
        }
    }

`


#### AppHostExtensions.cs


`

    public static class AppHostExtensions
    {
        /// <summary>
        /// åˆå§‹åŒ–App.xamlèµ„æº
        /// </summary>
        /// <param name="host"></param>
        public static void InitializeComponent(this IHost host)
        {
            // ......
        }

        /// <summary>
        /// å¯åŠ¨åº”ç”¨ç¨‹åº
        /// </summary>
        /// <param name="host"></param>
        public static void RunApplication<HostWindow>(this IHost host) where HostWindow:Window,new()
        {
            // ......
        }

        /// <summary>
        /// æ³¨å†ŒåŒºåŸŸ
        /// </summary>
        /// <param name="host"></param>
        public static void UseMainRegion(this IHost host)
        {
            // ......
        }

        /// <summary>
        /// æ‰‹åŠ¨æ³¨å†Œè§†å›¾å’Œè§†å›¾æ¨¡å‹
        /// </summary>
        /// <param name="services"></param>
        public static void AddViewAndViewModel(this IServiceCollection services)
        {
            // ......
        }

        /// <summary>
        /// æ³¨å†Œå¼¹çª—
        /// </summary>
        /// <param name="services"></param>
        public static void AddDialogVMMapping(this IServiceCollection services)
        {
            // ......
        }

        /// <summary>
        /// æ³¨å†Œæ¨¡å—
        /// </summary>
        /// <param name="services"></param>
        public static void AddModules(this IServiceCollection services)
        {
            // ......
        }
    }

`